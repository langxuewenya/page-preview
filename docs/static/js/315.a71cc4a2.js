"use strict";(self["webpackChunkvue3_ts_cms"]=self["webpackChunkvue3_ts_cms"]||[]).push([[315],{1823:function(e,a,t){t.d(a,{A:function(){return S}});var l=t(6768);const o={class:"page-search"},r={class:"button"};function n(e,a,t,n,s,u){const d=(0,l.g2)("el-button"),i=(0,l.g2)("SelectForm");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.bF)(i,(0,l.v6)(e.searchFormConfig,{modelValue:e.formData,"onUpdate:modelValue":a[0]||(a[0]=a=>e.formData=a)}),{footer:(0,l.k6)(()=>[(0,l.Lk)("div",r,[(0,l.bF)(d,{icon:e.Refresh,onClick:e.handleReset},{default:(0,l.k6)(()=>a[1]||(a[1]=[(0,l.eW)("重置",-1)])),_:1,__:[1]},8,["icon","onClick"]),(0,l.bF)(d,{type:"primary",icon:e.Search,onClick:e.handleSearch},{default:(0,l.k6)(()=>a[2]||(a[2]=[(0,l.eW)("搜索",-1)])),_:1,__:[2]},8,["icon","onClick"])])]),_:1},16,["modelValue"])])}var s=t(144),u=t(4232);const d={class:"select-form"},i={class:"header"},p={class:"footer"};function c(e,a,t,o,r,n){const s=(0,l.g2)("el-input"),c=(0,l.g2)("el-option"),f=(0,l.g2)("el-select"),g=(0,l.g2)("el-date-picker"),m=(0,l.g2)("el-form-item"),h=(0,l.g2)("el-col"),v=(0,l.g2)("el-row"),y=(0,l.g2)("el-form");return(0,l.uX)(),(0,l.CE)("div",d,[(0,l.Lk)("div",i,[(0,l.RG)(e.$slots,"header",{},void 0,!0)]),(0,l.bF)(y,{"label-width":e.labelWidth,style:(0,u.Tr)(e.itemStyle)},{default:(0,l.k6)(()=>[(0,l.bF)(v,null,{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.formItems,a=>((0,l.uX)(),(0,l.Wv)(h,(0,l.v6)({key:a.label,ref_for:!0},e.colLayout),{default:(0,l.k6)(()=>[(0,l.bF)(m,{label:a.label,rules:a.rules},{default:(0,l.k6)(()=>["input"===a.type?((0,l.uX)(),(0,l.Wv)(s,{key:0,modelValue:e.formData[`${a.field}`],"onUpdate:modelValue":t=>e.formData[`${a.field}`]=t,placeholder:a.placeholder,clearable:""},null,8,["modelValue","onUpdate:modelValue","placeholder"])):"select"===a.type?((0,l.uX)(),(0,l.Wv)(f,{key:1,modelValue:e.formData[`${a.field}`],"onUpdate:modelValue":t=>e.formData[`${a.field}`]=t,placeholder:a.placeholder},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.options,e=>((0,l.uX)(),(0,l.Wv)(c,{value:e.value,key:e.value,label:e.label},null,8,["value","label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):"datepicker"===a.type?((0,l.uX)(),(0,l.Wv)(g,(0,l.v6)({key:2,ref_for:!0},a.otherOptions,{modelValue:e.formData[`${a.field}`],"onUpdate:modelValue":t=>e.formData[`${a.field}`]=t}),null,16,["modelValue","onUpdate:modelValue"])):(0,l.Q3)("",!0)]),_:2},1032,["label","rules"])]),_:2},1040))),128))]),_:1})]),_:1},8,["label-width","style"]),(0,l.Lk)("div",p,[(0,l.RG)(e.$slots,"footer",{},void 0,!0)])])}var f=(0,l.pM)({name:"SelectFormPage",props:{modelValue:{type:Object,required:!0},formItems:{type:Array,default:()=>[]},labelWidth:{type:String,default:"100px"},itemStyle:{type:Object,default:()=>({padding:"0 10px"})},colLayout:{type:Object,default:()=>({xl:6,lg:8,md:12,sm:24,xs:24})}},emits:["update:modelValue"],setup(e,{emit:a}){const t=(0,s.KR)({...e.modelValue});return(0,l.wB)(t,e=>{a("update:modelValue",e)},{deep:!0}),{formData:t}}}),g=t(1241);const m=(0,g.A)(f,[["render",c],["__scopeId","data-v-659ad5d5"]]);var h=m,v=h,y=t(7477),b=t(1196),k=(0,l.pM)({name:"PageSearch",components:{SelectForm:v},props:{searchFormConfig:{type:Object,required:!0}},emits:["handleReset","handleSearch"],setup(e,{emit:a}){const t=e.searchFormConfig.formItems||[],l={};for(const s of t)l[s.field]=s?.defaultValue||"";const o=(0,s.KR)(l),r=()=>{for(const e in l)o.value[e]=l[e];a("handleReset",o.value)},n=()=>a("handleSearch",{...o.value,createTime:o.value.createTime.length>1?[(0,b.r)(o.value.createTime[0],"YYYY-MM-DD 00:00:00"),(0,b.r)(o.value.createTime[1],"YYYY-MM-DD 23:23:59")]:o.value.createTime});return{formData:o,Refresh:y.Refresh,Search:y.Search,handleReset:r,handleSearch:n}},mounted(){this.handleSearch()}});const C=(0,g.A)(k,[["render",n],["__scopeId","data-v-4216ca20"]]);var _=C,S=_},4082:function(e,a,t){t.d(a,{p:function(){return o}});var l=t(144);function o(){const e=(0,l.KR)(),a=a=>{e.value?.getPageData(a)};return{pagListRef:e,handleSearch:a}}},6985:function(e,a,t){t.d(a,{A:function(){return P}});var l=t(6768);const o={class:"page-list"};function r(e,a,t,r,n,s){const u=(0,l.g2)("el-button"),d=(0,l.g2)("ListTable");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.bF)(d,(0,l.v6)(e.listTableConfig,{page:e.pageInfo,"onUpdate:page":a[0]||(a[0]=a=>e.pageInfo=a),listData:e.dataList,datasTotalCount:e.datasTotalCount}),(0,l.eX)({"header-handler":(0,l.k6)(()=>[(0,l.bF)(u,{icon:e.Refresh,plain:""},{default:(0,l.k6)(()=>a[1]||(a[1]=[(0,l.eW)("刷新",-1)])),_:1,__:[1]},8,["icon"]),(0,l.bF)(u,{icon:e.Plus,type:"primary",plain:""},{default:(0,l.k6)(()=>a[2]||(a[2]=[(0,l.eW)("新建用户",-1)])),_:1,__:[2]},8,["icon"])]),handler:(0,l.k6)(()=>[(0,l.Lk)("div",null,[(0,l.bF)(u,{type:"primary",link:""},{default:(0,l.k6)(()=>a[3]||(a[3]=[(0,l.eW)("编辑",-1)])),_:1,__:[3]}),(0,l.bF)(u,{type:"primary",link:""},{default:(0,l.k6)(()=>a[4]||(a[4]=[(0,l.eW)("删除",-1)])),_:1,__:[4]})])]),_:2},[(0,l.pI)(e.otherPropSlots,a=>({name:a.slotName,fn:(0,l.k6)(t=>[a.slotName?(0,l.RG)(e.$slots,a.slotName,{key:0,row:t.row},void 0,!0):(0,l.Q3)("",!0)])}))]),1040,["page","listData","datasTotalCount"])])}t(8111),t(2489);var n=t(144),s=t(782),u=t(4232);const d={class:"list-table"},i={class:"header"},p={class:"title"},c={class:"handler"},f={key:0,class:"footer"};function g(e,a,t,o,r,n){const s=(0,l.g2)("el-table-column"),g=(0,l.g2)("el-table"),m=(0,l.g2)("el-pagination");return(0,l.uX)(),(0,l.CE)("div",d,[(0,l.Lk)("div",i,[(0,l.RG)(e.$slots,"header",{},()=>[(0,l.Lk)("div",p,(0,u.v_)(e.title),1),(0,l.Lk)("div",c,[(0,l.RG)(e.$slots,"header-handler",{},void 0,!0)])],!0)]),(0,l.bF)(g,(0,l.v6)({data:e.listData},e.treePropsConfig,{border:"",style:{width:"100%"},onSelectionChange:e.handleSelectionChange}),{default:(0,l.k6)(()=>[e.showSelectColumn?((0,l.uX)(),(0,l.Wv)(s,{key:0,type:"selection",align:"center",width:"60"})):(0,l.Q3)("",!0),e.showIndexColumn?((0,l.uX)(),(0,l.Wv)(s,{key:1,type:"index",label:"序号",align:"center",width:"80"})):(0,l.Q3)("",!0),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.propList,a=>((0,l.uX)(),(0,l.Wv)(s,(0,l.v6)({key:a.prop,ref_for:!0},a),{default:(0,l.k6)(t=>[(0,l.RG)(e.$slots,a.slotName,{row:t.row},()=>[a.isEnum?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.eW)((0,u.v_)(a?.optionMap?.[t.row[a.prop||""]]),1)],64)):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.eW)((0,u.v_)(t.row[a.prop||""]),1)],64))],!0)]),_:2},1040))),128))]),_:3},16,["data","onSelectionChange"]),e.showFooter?((0,l.uX)(),(0,l.CE)("div",f,[(0,l.RG)(e.$slots,"footer",{},()=>[(0,l.bF)(m,{"current-page":e.pageInfo.currentPage,"onUpdate:currentPage":a[0]||(a[0]=a=>e.pageInfo.currentPage=a),"page-size":e.pageInfo.pageSize,"onUpdate:pageSize":a[1]||(a[1]=a=>e.pageInfo.pageSize=a),"page-sizes":[10,20,30],background:!0,layout:"total, sizes, prev, pager, next, jumper",total:e.datasTotalCount,onChange:e.handlePageChange},null,8,["current-page","page-size","total","onChange"])],!0)])):(0,l.Q3)("",!0)])}var m=(0,l.pM)({name:"ListTablePage",props:{title:{type:String,default:""},listData:{type:Array,default:()=>[]},datasTotalCount:{type:Number,default:0},propList:{type:Array,default:()=>[]},showIndexColumn:{type:Boolean,default:!1},showSelectColumn:{type:Boolean,default:!1},page:{type:Object,default:()=>({currentPage:1,pageSize:10})},showFooter:{type:Boolean,default:!0},treePropsConfig:{type:Object,default:()=>({})}},emits:["selectionChange","update:page"],setup(e,{emit:a}){const t=(0,n.KR)({...e.page}),l=(e,t)=>{a("update:page",{currentPage:e,pageSize:t})},o=e=>{a("selectionChange",e)};return{pageInfo:t,handlePageChange:l,handleSelectionChange:o}}}),h=t(1241);const v=(0,h.A)(m,[["render",g],["__scopeId","data-v-1c6f769c"]]);var y=v,b=y,k=t(7477),C=t(1196),_=(0,l.pM)({name:"PageListPage",components:{ListTable:b},props:{pageName:{type:String,required:!0},listTableConfig:{type:Object,required:!0}},setup(e){const a=(0,s.Pj)(),t=(0,n.KR)({currentPage:1,pageSize:10}),o=(0,n.KR)({});(0,l.wB)(t,()=>r(o.value));const r=(l={})=>{o.value=l,a.dispatch("systemModule/getPageListAction",{pageName:e.pageName,queryInfo:{currentPage:t.value.currentPage,pageSize:t.value.pageSize,...l}})},u=(0,l.EW)(()=>a.getters["systemModule/pageDatas"](e.pageName)),d=(0,l.EW)(()=>a.getters["systemModule/pageDatasCount"](e.pageName)),i=["createTime","handler"],p=e.listTableConfig.propList.filter(e=>!i.includes(e.slotName));return{dataList:u,datasTotalCount:d,getPageData:r,Plus:k.Plus,Refresh:k.Refresh,formatDateTime:C.r,pageInfo:t,otherPropSlots:p}}});const S=(0,h.A)(_,[["render",r],["__scopeId","data-v-105beecc"]]);var F=S,P=F}}]);
//# sourceMappingURL=315.a71cc4a2.js.map